<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        // promise chaining을 하지 않을 경우
        function add(n1,n2,cb){
            setTimeout(()=>{
                let result=n1+n2;
                cb(result);
            },1000);
        }
        function mul(n,cb){
            setTimeout(()=>{
                let result=n*2;
                cb(result);
            },700);
        }
        function sub(n,cb){
            setTimeout(()=>{
                let result=n-1;
                cb(result);
            },500);
        }
        add(4,3,(result1)=>{
            mul(result1,(result2)=>{
                sub(result2,(result3)=>{
                    console.log(result3);
                })
            })
        })
        */

        // promise chaining을 사용할 경우
        function add(n1,n2){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let result = n1 + n2;
                    resolve(result);
                },0);
            })
        }
        function mul(n){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let result=n*2;
                    resolve(result);
                })
            },0);
        }
        function sub(n){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let result = n*2;
                    resolve(result);
                },500);
            },0);
        }

        /*
        add(4,3)
            .then((result)=>{
                console.log(`1: ${result}`);
                return mul(result);
            })
            .then((result)=>{
                console.log(`2: ${result}`);
                return sub(result);
            })
            .then((result)=>{
                console.log(`3: ${result}`);
            })
        
        console.log("계산 끝");
        */

        // 최근 비동기 처리 방식
    </script>
</body>
</html>